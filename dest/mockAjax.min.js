/*! mockAjax 2016-01-14 */
!function(a,b){if(void 0===b)throw new Error("please use jQuery");var c=function(a){this.queue=a||[]};c.prototype={isPureObject:function(a){return!("[object Object]"!==Object.prototype.toString.call(a)||a.constructor!==Object)},getItem:function(a){a=String(a);for(var b=null,c=0,d=this.queue.length;d>c&&(b=this.queue[c],b.url!==a);c++);return b},pushQueue:function(a){var c=null,d=this;if("[object Array]"!==Object.prototype.toString.call(a)){if(!d.isPureObject(a))throw new Error("please set pure object");c=[a]}b.each(c,function(a,b){d.check(b)}),[].push.apply(this.queue,c)},check:function(a){if(void 0===a.url)throw new Error("You must set the url attribute");a.url=String(a.url),"string"==typeof a.infos&&(a.infos={success:a.infos}),a.status=a.status||"success",a.wait=a.wait||0}};var d=new c,e=function(a,b){a>0?setTimeout(function(){b.call(null)},a):b.call(null)},f=function(a){var c=b.Deferred(),f=d.getItem(a.url||"");switch(f.status){case"success":e(f.wait,function(){a.success(f.infos.success),c.resolve(f.infos.success)});break;case"error":e(f.wait,function(){a.error(f.infos.error),c.reject(f.infos.error)});break;case"timeout":if(!a.timeout)throw new Error("not set timeout");setTimeout(function(){a.error(f.infos.error),c.reject(f.infos.error)},a.timeout)}return c.promise()};f.setMockMap=function(a){d.pushQueue(a)},f.init=function(){var a=b.ajax;b.ajax=function(b){return b.mock===!0?f(b):a(b)}},b.extend({mockAjax:f})}(window,jQuery);